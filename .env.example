# LumaDesk Environment Configuration
# Copy this file to .env and customize for your deployment

# ================================
# General Configuration
# ================================
COMPOSE_PROJECT_NAME=lumadesk
NODE_ENV=production

# ================================
# API Service
# ================================
API_PORT=3000
API_HOST=0.0.0.0

# JWT Configuration
JWT_SECRET=change-this-to-a-secure-random-string-min-32-chars
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=change-this-to-another-secure-random-string
JWT_REFRESH_EXPIRES_IN=7d

# Session Token (short-lived for PXE clients)
SESSION_TOKEN_EXPIRES_IN=5m

# Admin Credentials (for initial setup)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@lumadesk.local
ADMIN_PASSWORD=change-me-immediately

# ================================
# Database (PostgreSQL)
# ================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=lumadesk
POSTGRES_USER=lumadesk
POSTGRES_PASSWORD=change-this-password

DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ================================
# Web UI
# ================================
WEB_PORT=8080
VITE_API_URL=http://localhost:3000

# ================================
# Sunshine Service
# ================================
SUNSHINE_PORT_HTTPS=47984
SUNSHINE_PORT_HTTP=47989
SUNSHINE_PORT_WEB=47990
SUNSHINE_PORT_RTSP=48010

# Sunshine configuration directory (persistent)
SUNSHINE_CONF_DIR=/config

# Username for Sunshine process (inside container)
SUNSHINE_USER=sunshine
SUNSHINE_UID=1000
SUNSHINE_GID=1000

# ================================
# PXE Service
# ================================
PXE_PORT_TFTP=69
PXE_PORT_HTTP=8069
PXE_DHCP_RANGE_START=192.168.1.100
PXE_DHCP_RANGE_END=192.168.1.200
PXE_DHCP_SUBNET=192.168.1.0
PXE_DHCP_NETMASK=255.255.255.0
PXE_DHCP_GATEWAY=192.168.1.1
PXE_DHCP_DNS=8.8.8.8
PXE_SERVER_IP=192.168.1.10

# Enable/disable PXE DHCP server (set to false if using existing DHCP)
PXE_DHCP_ENABLED=true

# ================================
# Security
# ================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:8080,http://localhost:3000

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================
# Logging
# ================================
LOG_LEVEL=info
LOG_FORMAT=json

# ================================
# Optional: Local Registry
# ================================
REGISTRY_PORT=5000
REGISTRY_ENABLED=false
